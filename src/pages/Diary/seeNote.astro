---
import { obtenerNotaPorId } from "../scripts/getNoteById.js";

const { searchParams } = Astro.url;
const id = searchParams.get("id");

let nota = null;
if (id) {
    nota = await obtenerNotaPorId(id);
}
---

{
    nota ? (
        <div class="p-6 max-w-xl mx-auto bg-white rounded-xl shadow-md space-y-4">
            <h1 class="text-2xl font-bold">
                ğŸ“ Nota del {nota.fecha.toDate().toLocaleDateString()}
            </h1>
            <div>
                <h2 class="font-semibold">Â¿QuÃ© aprendiste hoy?</h2>
                <p>{nota.aprendizaje}</p>
            </div>
            <div>
                <h2 class="font-semibold">
                    Â¿QuÃ© emociÃ³n sentiste mÃ¡s fuerte hoy?
                </h2>
                <p>{nota.emocion}</p>
            </div>
            <div>
                <h2 class="font-semibold">Â¿QuÃ© provocÃ³ esa emociÃ³n?</h2>
                <p>{nota.motivo}</p>
            </div>
            <div>
                <h2 class="font-semibold">
                    Â¿De quÃ© te sentiste orgulloso hoy?
                </h2>
                <p>{nota.logro}</p>
            </div>
            <div>
                <h2 class="font-semibold">
                    Â¿QuÃ© pensamientos te gustarÃ­a soltar?
                </h2>
                <p>{nota.pensamientos}</p>
            </div>
        </div>
    ) : (
        <div class="text-center mt-10 text-gray-500">
            No se encontrÃ³ la nota o hubo un error.
        </div>
    )
}
